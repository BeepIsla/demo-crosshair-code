import{s as Ce,n as we,r as xe,o as De,f as me}from"../chunks/scheduler.0318841a.js";import{S as Te,i as Ie,g as L,s as B,m as M,h as C,j as z,y as Z,c as P,f as D,n as j,k as h,a as G,x as b,z as ae,o as ee,A as Se}from"../chunks/index.12b96ea2.js";import{w as Fe}from"../chunks/index.46b4c523.js";function pe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}let d;const U=new Array(128).fill(void 0);U.push(void 0,null,!0,!1);function l(t){return U[t]}let te=U.length;function Me(t){t<132||(U[t]=te,te=t)}function V(t){const e=l(t);return Me(t),e}const Ee=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ee.decode();let K=null;function ne(){return(K===null||K.byteLength===0)&&(K=new Uint8Array(d.memory.buffer)),K}function ie(t,e){return Ee.decode(ne().subarray(t,t+e))}function f(t){te===U.length&&U.push(U.length+1);const e=te;return te=U[e],U[e]=t,e}let k=0;const ce=new TextEncoder("utf-8"),je=typeof ce.encodeInto=="function"?function(t,e){return ce.encodeInto(t,e)}:function(t,e){const n=ce.encode(t);return e.set(n),{read:t.length,written:n.length}};function le(t,e,n){if(n===void 0){const a=ce.encode(t),u=e(a.length);return ne().subarray(u,u+a.length).set(a),k=a.length,u}let r=t.length,o=e(r);const c=ne();let i=0;for(;i<r;i++){const a=t.charCodeAt(i);if(a>127)break;c[o+i]=a}if(i!==r){i!==0&&(t=t.slice(i)),o=n(o,r,r=i+t.length*3);const a=ne().subarray(o+i,o+r),u=je(t,a);i+=u.written}return k=i,o}function N(t){return t==null}let X=null;function T(){return(X===null||X.byteLength===0)&&(X=new Int32Array(d.memory.buffer)),X}function _e(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const o=t.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=t.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(t)){const o=t.length;let c="[";o>0&&(c+=_e(t[0]));for(let i=1;i<o;i++)c+=", "+_e(t[i]);return c+="]",c}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}function ke(t,e){const n=e(t.length*1);return ne().set(t,n/1),k=t.length,n}let $=null;function Ae(){return($===null||$.byteLength===0)&&($=new Uint32Array(d.memory.buffer)),$}function ge(t,e){const n=e(t.length*4),r=Ae();for(let o=0;o<t.length;o++)r[n/4+o]=f(t[o]);return k=t.length,n}function He(t,e,n,r){try{const v=d.__wbindgen_add_to_stack_pointer(-16),S=ke(t,d.__wbindgen_malloc),H=k;var o=N(e)?0:le(e,d.__wbindgen_malloc,d.__wbindgen_realloc),c=k,i=N(n)?0:ge(n,d.__wbindgen_malloc),a=k,u=N(r)?0:ge(r,d.__wbindgen_malloc),y=k;d.parseEvent(v,S,H,o,c,i,a,u,y);var _=T()[v/4+0],s=T()[v/4+1],w=T()[v/4+2];if(w)throw V(s);return V(_)}finally{d.__wbindgen_add_to_stack_pointer(16)}}function Oe(t,e){const n=e(t.length*4);return Ae().set(t,n/4),k=t.length,n}function qe(t,e,n,r){try{const s=d.__wbindgen_add_to_stack_pointer(-16),w=ke(t,d.__wbindgen_malloc),v=k;var o=N(e)?0:ge(e,d.__wbindgen_malloc),c=k,i=N(n)?0:Oe(n,d.__wbindgen_malloc),a=k;d.parseTicks(s,w,v,o,c,i,a,N(r)?16777215:r?1:0);var u=T()[s/4+0],y=T()[s/4+1],_=T()[s/4+2];if(_)throw V(y);return V(u)}finally{d.__wbindgen_add_to_stack_pointer(16)}}function W(t,e){try{return t.apply(this,e)}catch(n){d.__wbindgen_exn_store(f(n))}}async function We(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Ue(){const t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){V(e)},t.wbg.__wbindgen_is_string=function(e){return typeof l(e)=="string"},t.wbg.__wbindgen_error_new=function(e,n){const r=new Error(ie(e,n));return f(r)},t.wbg.__wbindgen_string_get=function(e,n){const r=l(n),o=typeof r=="string"?r:void 0;var c=N(o)?0:le(o,d.__wbindgen_malloc,d.__wbindgen_realloc),i=k;T()[e/4+1]=i,T()[e/4+0]=c},t.wbg.__wbindgen_object_clone_ref=function(e){const n=l(e);return f(n)},t.wbg.__wbindgen_is_object=function(e){const n=l(e);return typeof n=="object"&&n!==null},t.wbg.__wbg_String_88810dfeb4021902=function(e,n){const r=String(l(n)),o=le(r,d.__wbindgen_malloc,d.__wbindgen_realloc),c=k;T()[e/4+1]=c,T()[e/4+0]=o},t.wbg.__wbindgen_number_new=function(e){return f(e)},t.wbg.__wbindgen_string_new=function(e,n){const r=ie(e,n);return f(r)},t.wbg.__wbg_set_841ac57cff3d672b=function(e,n,r){l(e)[V(n)]=V(r)},t.wbg.__wbg_crypto_70a96de3b6b73dac=function(e){const n=l(e).crypto;return f(n)},t.wbg.__wbg_process_dd1577445152112e=function(e){const n=l(e).process;return f(n)},t.wbg.__wbg_versions_58036bec3add9e6f=function(e){const n=l(e).versions;return f(n)},t.wbg.__wbg_node_6a9d28205ed5b0d8=function(e){const n=l(e).node;return f(n)},t.wbg.__wbg_msCrypto_adbc770ec9eca9c7=function(e){const n=l(e).msCrypto;return f(n)},t.wbg.__wbg_require_f05d779769764e82=function(){return W(function(){const e=module.require;return f(e)},arguments)},t.wbg.__wbindgen_is_function=function(e){return typeof l(e)=="function"},t.wbg.__wbg_randomFillSync_e950366c42764a07=function(){return W(function(e,n){l(e).randomFillSync(V(n))},arguments)},t.wbg.__wbg_getRandomValues_3774744e221a22ad=function(){return W(function(e,n){l(e).getRandomValues(l(n))},arguments)},t.wbg.__wbg_new_b525de17f44a8943=function(){const e=new Array;return f(e)},t.wbg.__wbg_newnoargs_2b8b6bd7753c76ba=function(e,n){const r=new Function(ie(e,n));return f(r)},t.wbg.__wbg_new_f841cc6f2098f4b5=function(){return f(new Map)},t.wbg.__wbg_call_95d1ea488d03e4e8=function(){return W(function(e,n){const r=l(e).call(l(n));return f(r)},arguments)},t.wbg.__wbg_new_f9876326328f45ed=function(){const e=new Object;return f(e)},t.wbg.__wbg_self_e7c1f827057f6584=function(){return W(function(){const e=self.self;return f(e)},arguments)},t.wbg.__wbg_window_a09ec664e14b1b81=function(){return W(function(){const e=window.window;return f(e)},arguments)},t.wbg.__wbg_globalThis_87cbb8506fecf3a9=function(){return W(function(){const e=globalThis.globalThis;return f(e)},arguments)},t.wbg.__wbg_global_c85a9259e621f3db=function(){return W(function(){const e=global.global;return f(e)},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return l(e)===void 0},t.wbg.__wbg_set_17224bc548dd1d7b=function(e,n,r){l(e)[n>>>0]=V(r)},t.wbg.__wbg_call_9495de66fdbe016b=function(){return W(function(e,n,r){const o=l(e).call(l(n),l(r));return f(o)},arguments)},t.wbg.__wbg_set_388c4c6422704173=function(e,n,r){const o=l(e).set(l(n),l(r));return f(o)},t.wbg.__wbg_buffer_cf65c07de34b9a08=function(e){const n=l(e).buffer;return f(n)},t.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(e,n,r){const o=new Uint8Array(l(e),n>>>0,r>>>0);return f(o)},t.wbg.__wbg_new_537b7341ce90bb31=function(e){const n=new Uint8Array(l(e));return f(n)},t.wbg.__wbg_set_17499e8aa4003ebd=function(e,n,r){l(e).set(l(n),r>>>0)},t.wbg.__wbg_newwithlength_b56c882b57805732=function(e){const n=new Uint8Array(e>>>0);return f(n)},t.wbg.__wbg_subarray_7526649b91a252a6=function(e,n,r){const o=l(e).subarray(n>>>0,r>>>0);return f(o)},t.wbg.__wbindgen_debug_string=function(e,n){const r=_e(l(n)),o=le(r,d.__wbindgen_malloc,d.__wbindgen_realloc),c=k;T()[e/4+1]=c,T()[e/4+0]=o},t.wbg.__wbindgen_throw=function(e,n){throw new Error(ie(e,n))},t.wbg.__wbindgen_memory=function(){const e=d.memory;return f(e)},t}function Ve(t,e){return d=t.exports,Le.__wbindgen_wasm_module=e,X=null,$=null,K=null,d}async function Le(t){typeof t>"u"&&(t="/assets/demoparser2_bg.wasm");const e=Ue();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await We(await t,e);return Ve(n,r)}const re=Fe({dragging:!1,file:void 0},()=>{function t(r){var o;r.preventDefault(),re.set({dragging:!0,file:(o=r.dataTransfer)==null?void 0:o.files[0]})}function e(r){r.preventDefault(),re.set({dragging:!1,file:void 0})}function n(r){var o;r.preventDefault(),re.set({dragging:!1,file:(o=r.dataTransfer)==null?void 0:o.files[0]})}return document.addEventListener("dragover",t),document.addEventListener("dragleave",e),document.addEventListener("drop",n),()=>{document.removeEventListener("dragover",t),document.removeEventListener("dragleave",e),document.removeEventListener("drop",n)}});function Re(t){return new Promise((e,n)=>{const r=new FileReader;r.addEventListener("error",()=>{n(new Error("Failed to load file"))}),r.addEventListener("load",o=>{if(!o.target||!o.target.result||typeof o.target.result=="string"){n(new Error("Could not load file"));return}const c=new Uint8Array(o.target.result);try{const a=He(c,"round_freeze_end").map(_=>_.get("tick")),u=qe(c,["crosshair_code"],a),y=[];for(const _ of u)y.findIndex(s=>s.steamID===_.get("steamid"))>=0||y.push({steamID:_.get("steamid")??"",name:_.get("name")??"",code:_.get("crosshair_code")??""});e(y)}catch(i){n(i)}}),r.readAsArrayBuffer(t)})}function ze(t){return!(!t||!t.name.endsWith(".dem"))}async function Be(t){try{return await navigator.clipboard.writeText(t),!0}catch{return!1}}function Pe(){return new Promise((t,e)=>{const n=document.createElement("input");n.type="file",n.accept=".dem",n.addEventListener("cancel",()=>{n.remove(),t(!1)}),n.addEventListener("change",()=>{n.remove(),!n.files||n.files.length<=0?t(!1):(re.set({dragging:!1,file:n.files[0]}),t(!0))}),n.addEventListener("error",()=>{n.remove(),e(new Error("Failed to select file"))}),n.click()})}function ye(t,e,n){const r=t.slice();return r[8]=e[n],r}function Ne(t){let e,n='<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24" class="text-white group-hover:text-black"><path fill="currentColor" d="M11 20H6.5q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48q1.18-1.53 3.08-1.95q.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5q1.14 1.28 1.14 3q0 1.88-1.31 3.19T18.5 20H13v-7.15l1.6 1.55L16 13l-4-4l-4 4l1.4 1.4l1.6-1.55Z"></path></svg>',r,o,c='<h2 class="text-base text-white group-hover:text-black">Drag &amp; drop your .dem file here</h2> <h2 class="text-sm italic text-white group-hover:text-black">...or click on this box to select a file from your device</h2>';return{c(){e=L("div"),e.innerHTML=n,r=B(),o=L("div"),o.innerHTML=c,this.h()},l(i){e=C(i,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-tjiwuw"&&(e.innerHTML=n),r=P(i),o=C(i,"DIV",{class:!0,"data-svelte-h":!0}),Z(o)!=="svelte-1fljg82"&&(o.innerHTML=c),this.h()},h(){h(e,"class",""),h(o,"class","")},m(i,a){G(i,e,a),G(i,r,a),G(i,o,a)},d(i){i&&(D(e),D(r),D(o))}}}function Qe(t){let e,n="Loading...";return{c(){e=L("h1"),e.textContent=n,this.h()},l(r){e=C(r,"H1",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1lzmij5"&&(e.textContent=n),this.h()},h(){h(e,"class","animate-pulse text-5xl font-bold uppercase text-zinc-400")},m(r,o){G(r,e,o)},d(r){r&&D(e)}}}function ve(t){let e,n,r=t[8].steamID+"",o,c,i=t[8].name+"",a,u,y,_,s,w=t[8].code+"",v,S,H,R;function Q(){return t[6](t[8])}return{c(){e=L("li"),n=L("a"),o=M(r),c=M(": "),a=M(i),y=M(`
				           
				`),_=L("div"),s=L("code"),v=M(w),S=B(),this.h()},l(I){e=C(I,"LI",{class:!0});var E=z(e);n=C(E,"A",{href:!0,target:!0,rel:!0,class:!0});var A=z(n);o=j(A,r),c=j(A,": "),a=j(A,i),A.forEach(D),y=j(E,`
				           
				`),_=C(E,"DIV",{class:!0,role:!0,tabindex:!0});var F=z(_);s=C(F,"CODE",{});var Y=z(s);v=j(Y,w),Y.forEach(D),F.forEach(D),S=P(E),E.forEach(D),this.h()},h(){h(n,"href",u="https://steamcommunity.com/profiles/"+t[8].steamID),h(n,"target","_blank"),h(n,"rel","noreferrer noreopener"),h(n,"class","transition hover:text-pink-400 active:scale-90"),h(_,"class","cursor-pointer transition hover:text-pink-400 active:scale-90"),h(_,"role","button"),h(_,"tabindex","0"),h(e,"class","flex justify-between text-white")},m(I,E){G(I,e,E),b(e,n),b(n,o),b(n,c),b(n,a),b(e,y),b(e,_),b(_,s),b(s,v),b(e,S),H||(R=[ae(_,"click",Q),ae(_,"keydown",t[4])],H=!0)},p(I,E){t=I,E&1&&r!==(r=t[8].steamID+"")&&ee(o,r),E&1&&i!==(i=t[8].name+"")&&ee(a,i),E&1&&u!==(u="https://steamcommunity.com/profiles/"+t[8].steamID)&&h(n,"href",u),E&1&&w!==(w=t[8].code+"")&&ee(v,w)},d(I){I&&D(e),H=!1,xe(R)}}}function Je(t){let e,n,r="CS2 Demo Crosshair Code Extractor",o,c,i=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"></path></svg>
		GitHub`,a,u,y,_,s,w,v=t[0].length+"",S,H,R=t[0].length===1?"":"s",Q,I,E,A,F,Y=`<em class="text-left font-semibold not-italic">SteamID
				<p class="text-sm font-normal italic">Click to open profile</p></em>
			 
			<em class="text-right font-semibold not-italic">Code
				<p class="text-sm font-normal italic">Click to copy</p></em>`,ue,fe,be;function he(g,p){return g[1]?Qe:Ne}let oe=he(t),O=oe(t),J=pe(t[0]),x=[];for(let g=0;g<J.length;g+=1)x[g]=ve(ye(t,J,g));return{c(){e=L("div"),n=L("h1"),n.textContent=r,o=B(),c=L("a"),c.innerHTML=i,a=B(),u=L("div"),O.c(),_=B(),s=L("h1"),w=M("Found "),S=M(v),H=M(" crosshair code"),Q=M(R),I=M("."),E=B(),A=L("ul"),F=L("li"),F.innerHTML=Y,ue=B();for(let g=0;g<x.length;g+=1)x[g].c();this.h()},l(g){e=C(g,"DIV",{class:!0});var p=z(e);n=C(p,"H1",{class:!0,"data-svelte-h":!0}),Z(n)!=="svelte-326fts"&&(n.textContent=r),o=P(p),c=C(p,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Z(c)!=="svelte-1itvnlq"&&(c.innerHTML=i),a=P(p),u=C(p,"DIV",{class:!0,role:!0,tabindex:!0});var m=z(u);O.l(m),m.forEach(D),_=P(p),s=C(p,"H1",{class:!0});var q=z(s);w=j(q,"Found "),S=j(q,v),H=j(q," crosshair code"),Q=j(q,R),I=j(q,"."),q.forEach(D),E=P(p),A=C(p,"UL",{class:!0});var se=z(A);F=C(se,"LI",{class:!0,"data-svelte-h":!0}),Z(F)!=="svelte-5p3vfg"&&(F.innerHTML=Y),ue=P(se);for(let de=0;de<x.length;de+=1)x[de].l(se);se.forEach(D),p.forEach(D),this.h()},h(){h(n,"class","mb-4 text-2xl text-white"),h(c,"href","https://github.com/BeepIsla/demo-crosshair-code"),h(c,"target","_blank"),h(c,"class","mb-4 flex items-center gap-1 text-white hover:underline"),h(u,"class",y="group flex h-[300px] w-full cursor-pointer place-content-center place-items-center justify-center gap-6 rounded-xl border-2 border-dashed border-zinc-400 p-8 transition "+(t[1]?"cursor-wait":"hover:border-transparent hover:bg-[#EDEDED]")),h(u,"role","button"),h(u,"tabindex","0"),h(s,"class","mb-4 mt-4 text-lg text-white"),h(F,"class","flex justify-between text-white"),h(A,"class","w-full"),h(e,"class","mx-auto flex h-screen w-full max-w-[1024px] flex-col items-center justify-center")},m(g,p){G(g,e,p),b(e,n),b(e,o),b(e,c),b(e,a),b(e,u),O.m(u,null),b(e,_),b(e,s),b(s,w),b(s,S),b(s,H),b(s,Q),b(s,I),b(e,E),b(e,A),b(A,F),b(A,ue);for(let m=0;m<x.length;m+=1)x[m]&&x[m].m(A,null);fe||(be=[ae(u,"click",t[2]),ae(u,"keypress",t[5])],fe=!0)},p(g,[p]){if(oe!==(oe=he(g))&&(O.d(1),O=oe(g),O&&(O.c(),O.m(u,null))),p&2&&y!==(y="group flex h-[300px] w-full cursor-pointer place-content-center place-items-center justify-center gap-6 rounded-xl border-2 border-dashed border-zinc-400 p-8 transition "+(g[1]?"cursor-wait":"hover:border-transparent hover:bg-[#EDEDED]"))&&h(u,"class",y),p&1&&v!==(v=g[0].length+"")&&ee(S,v),p&1&&R!==(R=g[0].length===1?"":"s")&&ee(Q,R),p&9){J=pe(g[0]);let m;for(m=0;m<J.length;m+=1){const q=ye(g,J,m);x[m]?x[m].p(q,p):(x[m]=ve(q),x[m].c(),x[m].m(A,null))}for(;m<x.length;m+=1)x[m].d(1);x.length=J.length}},i:we,o:we,d(g){g&&D(e),O.d(),Se(x,g),fe=!1,xe(be)}}}function Ze(t,e,n){let r=[],o=!0;De(()=>{n(1,o=!0),Le().catch(s=>{c(s,!0)}).finally(()=>{n(1,o=!1)})});function c(s,w){console.error(s),alert(w?`An error occurred: ${String(s)}

This will prevent the website from working.
Please reload the page.`:`An error occurred: ${String(s)}

Please select another file or report this issue.`)}function i(){o||(n(1,o=!0),Pe().then(s=>{s||n(1,o=!1)}).catch(s=>{c(s),n(1,o=!1)}))}function a(s){Be(s).then(()=>{alert(`Copied "${s}" to clipboard`)}).catch(w=>{alert(`Failed to copy to clipboard: ${w}`)})}re.subscribe(s=>{if(!s.dragging&&s.file){if(!ze(s.file)){alert(`Invalid file. Only .dem files are supported!

You may have to extract the file using 7zip.`);return}n(1,o=!0),Re(s.file).then(w=>{n(0,r=w)}).catch(w=>{c(w)}).finally(()=>{n(1,o=!1)})}});function u(s){me.call(this,t,s)}function y(s){me.call(this,t,s)}return[r,o,i,a,u,y,s=>a(s.code)]}class Xe extends Te{constructor(e){super(),Ie(this,e,Ze,Je,Ce,{})}}export{Xe as component};
